(this["webpackJsonpkanban-lite"]=this["webpackJsonpkanban-lite"]||[]).push([[0],{35:function(e,t,n){e.exports=n.p+"static/media/trash.7a4837d5.svg"},61:function(e,t,n){e.exports=n.p+"static/media/cardTitle.7e6fdb34.svg"},62:function(e,t,n){e.exports=n.p+"static/media/cardDescription.5c571a3f.svg"},63:function(e,t,n){e.exports=n.p+"static/media/actions.e9bfb1ac.svg"},69:function(e,t,n){e.exports=n(97)},97:function(e,t,n){"use strict";n.r(t);var r,a=n(2),c=n.n(a),u=n(6),i=n(0),o=n.n(i),s=n(23),l=n.n(s),d=n(31),m=n(12),f=n(4),g=n(102),p=n(30),b=n(29),h=n(18),v=n(19),O=n(104),j=n(105),x=n(47),I=n(56),C=n.n(I).a.mixin({customClass:{popup:"swal-bg",title:"swal-title",confirmButton:"btn add-card-button mr-2",cancelButton:"btn btn-danger"},buttonsStyling:!1});function E(e){var t=Object(i.useRef)(null),n=Object(i.useRef)(null),a=Object(h.e)(),c=Object(i.useState)(!1),u=Object(f.a)(c,2),s=u[0],l=u[1],d=Object(i.useState)(!1),g=Object(f.a)(d,2),p=g[0],b=g[1],v=Object(i.useState)(!1),I=Object(f.a)(v,2),C=I[0],E=I[1],w=Object(O.a)({item:{type:"card",card:e.card},collect:function(t){if(t.isDragging()){if(null!=n.current){var r=n.current.clientHeight+2;e.setCardHeight(e.card.id,r)}l(!0)}else l(!1),b(!1),E(!1)},begin:function(){e.setIsDragInProgress(!0),e.setDragCardId(e.card.id),e.setHighlightedCardId(e.card.id)},end:function(){return e.setIsDragInProgress(!1)}}),y=Object(f.a)(w,3),N=y[1],k=y[2];Object(i.useEffect)((function(){k(Object(x.a)(),{captureDraggingState:!0})}),[k]);var S=Object(j.a)({accept:"card",drop:function(t){setTimeout((function(){return e.setHoverCardId(t.card.id)}),50);var n=t.card,r=!0===p?e.card.columnIndex:e.card.columnIndex+1,a=Object(m.a)({},n);a=Object(m.a)({},n,{column_id:e.card.column_id,columnIndex:r,isNew:!0}),e.moveCard(a,n)},hover:function(t,n){n.isOver()&&e.setHighlightedCardId(e.card.id);var r=n.getInitialClientOffset();n.getClientOffset().y<r.y&&(b(!0),E(!1)),n.getClientOffset().y>r.y&&(E(!0),b(!1))}});return N((0,Object(f.a)(S,2)[1])(t)),o.a.createElement("div",{ref:t},!0===p&&e.highlightedCardId===e.card.id&&!1===s&&o.a.createElement("div",{style:{height:e.dragCardHeight},className:"card trello-card droppable-card"}),!1===s&&o.a.createElement("div",{ref:n,className:"card trello-card "+(e.hoverCardId===e.card.id?"active-card":""),onMouseOver:function(){!1===e.isDragInProgress&&e.setHoverCardId(e.card.id)},onMouseLeave:function(){return e.setHoverCardId(0)},onClick:function(){return a.push(r.Card.replace(":id",e.card.id.toString()))}},o.a.createElement("span",null,!1===s&&e.card.title)),!0===s&&e.highlightedCardId===e.dragCardId&&o.a.createElement("div",{style:{height:e.dragCardHeight},className:"card trello-card placeholder-card"}),!0===C&&e.highlightedCardId===e.card.id&&!1===s&&o.a.createElement("div",{style:{height:e.dragCardHeight},className:"card trello-card droppable-card"}))}!function(e){e.Home="/",e.Card="/card/:id"}(r||(r={}));var w=n(60),y=n.n(w).a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).API_URL,withCredentials:!0});y.interceptors.response.use((function(e){return e}),(function(e){var t=e.response;return t&&("/account/register"===t.config.url&&400===t.status&&C.fire({title:"Error!",text:"Username already taken",icon:"error"}),"/account/login"===t.config.url&&[400,401].includes(t.status)&&C.fire({title:"Error!",text:"Invalid username/password",icon:"error"})),Promise.reject(e)}));var N=function(){var e=Object(u.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=n(35),H=n.n(S);function D(e){var t=Object(i.useRef)(null),n=Object(i.useRef)(null),r=Object(i.useRef)(null),a=Object(i.useState)(!1),s=Object(f.a)(a,2),l=s[0],d=s[1],g=Object(i.useState)(""),p=Object(f.a)(g,2),b=p[0],h=p[1],I=Object(i.useState)(e.column.title),w=Object(f.a)(I,2),y=w[0],N=w[1],S=Object(i.useState)(!1),D=Object(f.a)(S,2),_=D[0],L=D[1],P=Object(i.useState)(!1),T=Object(f.a)(P,2),B=T[0],R=T[1],A=Object(i.useState)(!1),K=Object(f.a)(A,2),M=K[0],U=K[1],W=Object(i.useState)(e.cards.length),Y=Object(f.a)(W,2),q=Y[0],J=Y[1],V=Object(i.useState)(0),F=Object(f.a)(V,2),z=F[0],G=F[1],Q=Object(i.useState)(!1),X=Object(f.a)(Q,2),Z=X[0],$=X[1],ee=e.column.id.toString();Object(i.useEffect)((function(){return J(e.cards.length)}),[e.cards]),Object(i.useEffect)((function(){var e=document.getElementById(ee);if(null!=e){var t=window.innerHeight-e.getBoundingClientRect().bottom-40;G(t)}}),[ee,e.cards]);var te=e.cards.sort((function(e,t){return e.columnIndex>t.columnIndex?1:-1})),ne=Object(O.a)({item:{type:"column",column:e.column,cards:te},collect:function(t){if(t.isDragging()){if(null!=r.current){var n=r.current.clientHeight;e.setColumnHeight(e.column.id,n)}L(!0),e.setIsDragInProgress(!0)}else L(!1),R(!1),U(!1),$(!1)},begin:function(){e.setHighlightedColumnId(e.column.id),e.setDragColumnId(e.column.id)},end:function(){return e.setIsDragInProgress(!1)}}),re=Object(f.a)(ne,3),ae=re[1],ce=re[2];Object(i.useEffect)((function(){ce(Object(x.a)(),{captureDraggingState:!0})}),[ce]);var ue=Object(j.a)({accept:["column","card"],drop:function(t){if("column"===t.type){var n=t.column,r=!0===B?e.column.boardIndex:e.column.boardIndex+1,a=Object(m.a)({},n);a=Object(m.a)({},a,{boardIndex:r,isNew:!0}),e.moveColumn(n.id,a,n.boardIndex)}if("card"===t.type&&0===e.cards.length){var c=t.card;setTimeout((function(){return e.setHoverCardId(c.id)}),50);var u=Object(m.a)({},c);u=Object(m.a)({},u,{column_id:e.column.id,columnIndex:0,isNew:!0}),e.moveCard(u,c)}},collect:function(e){!1===e.isOver()&&$(!1)},hover:function(t,n){if("column"===t.type){n.isOver()&&e.setHighlightedColumnId(e.column.id);var r=n.getInitialClientOffset();n.getClientOffset().x<r.x&&(R(!0),U(!1)),n.getClientOffset().x>r.x&&(U(!0),R(!1))}"card"===t.type&&0===e.cards.length&&($(!0),e.setHighlightedCardId(0)),"card"===t.type&&1===e.cards.length&&t.card.column_id===e.column.id&&e.setHighlightedCardId(t.card.id)}}),ie=Object(f.a)(ue,2)[1],oe=function(){var t=Object(u.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.length>0)){t.next=13;break}return r={title:n,columnId:e.column.id,columnIndex:q},e.setIsLoading(!0),t.prev=3,t.next=6,k("/cards/create",r);case 6:return t.next=8,e.getColumnsAndCards();case 8:h(""),J(q+1);case 10:return t.prev=10,e.setIsLoading(!1),t.finish(10);case 13:d(!1);case 14:case"end":return t.stop()}}),t,null,[[3,,10,13]])})));return function(e){return t.apply(this,arguments)}}(),se=function(){var t=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.fire({title:"Are you sure you want to delete this list?",text:"It will also delete all corresponding cards.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"});case 2:if(!t.sent.value){t.next=14;break}return e.setIsLoading(!0),t.prev=5,t.next=8,k("/columns/delete/"+e.column.id);case 8:return t.next=10,e.getColumnsAndCards();case 10:C.fire("Deleted!","Your list has been deleted.","success");case 11:return t.prev=11,e.setIsLoading(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[5,,11,14]])})));return function(){return t.apply(this,arguments)}}();return ae(ie(n)),o.a.createElement("div",{ref:n,className:"d-flex"},!0===B&&e.highlightedColumnId===e.column.id&&!1===_&&o.a.createElement("div",{style:{height:e.dragColumnHeight},className:"column droppable-column"}),o.a.createElement("div",null,!1===_&&o.a.createElement("div",null,o.a.createElement("div",{id:ee,ref:r,className:"column"},o.a.createElement("div",{className:"d-flex justify-content-between align-items-center mb-2"},o.a.createElement(v.a,{type:"text",inputRef:t,className:"column-title",value:y,placeholder:"Enter list title...",onChange:function(e){return N(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&t.current.blur()},onBlur:function(){return e.changeColumnTitle(e.column.id,y)}}),o.a.createElement("img",{src:H.a,alt:"delete icon",onClick:function(){return se()}})),te.length<=1&&!0===Z&&o.a.createElement("div",{style:{height:e.dragCardHeight},className:"card trello-card placeholder-card"}),te.map((function(t,n){return o.a.createElement(E,{key:n,card:t,highlightedCardId:e.highlightedCardId,dragCardHeight:e.dragCardHeight,dragCardId:e.dragCardId,isDragInProgress:e.isDragInProgress,hoverCardId:e.hoverCardId,setHoverCardId:function(t){return e.setHoverCardId(t)},setIsDragInProgress:function(t){return e.setIsDragInProgress(t)},setDragCardId:function(t){return e.setDragCardId(t)},setCardHeight:function(t,n){return e.setCardHeight(t,n)},setHighlightedCardId:function(t){return e.setHighlightedCardId(t)},moveCard:function(t,n){return e.moveCard(t,n)}})})),!0===l&&o.a.createElement("div",{className:"card add-card"},o.a.createElement(v.a,{type:"text",autoFocus:!0,className:"card-input",value:b,placeholder:"Enter a title for this card...",onChange:function(e){return h(e.target.value)},onKeyDown:function(e){return function(e){"Enter"===e.key&&(e.preventDefault(),oe(b))}(e)},onBlur:function(){return oe(b)}})),o.a.createElement("button",{type:"button",className:"btn add-card-button mt-2 add-logout-btn",onClick:function(){!1===l&&d(!0)},disabled:!0===e.isLoading},"+ Add ",o.a.createElement("span",null,0===e.cards.length?"a":"another")," card")),e.dragColumnId!==e.column.id&&!0===e.isDragInProgress&&o.a.createElement("div",{style:{height:z},className:"invisible-column"})),!0===_&&e.highlightedColumnId===e.dragColumnId&&o.a.createElement("div",{style:{height:e.dragColumnHeight},className:"placeholder-column"})),!0===M&&e.highlightedColumnId===e.column.id&&!1===_&&o.a.createElement("div",{style:{height:e.dragColumnHeight},className:"column droppable-column"}))}var _=n(103),L=n(61),P=n.n(L),T=n(62),B=n.n(T),R=n(63),A=n.n(R);function K(e){var t=Object(i.useRef)(null),n=Object(i.useRef)(null),a=Object(h.f)().id,s=Object(h.e)(),l=Object(i.useState)(null),d=Object(f.a)(l,2),m=d[0],g=d[1],p=Object(i.useState)(""),b=Object(f.a)(p,2),O=b[0],j=b[1],x=Object(i.useState)(""),I=Object(f.a)(x,2),E=I[0],w=I[1],y=Object(i.useState)(!1),S=Object(f.a)(y,2),H=S[0],D=S[1],L=Object(i.useCallback)(Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("/cards/card/"+a);case 2:t=e.sent,g(t),j(t.title),w(t.description);case 6:case"end":return e.stop()}}),e)}))),[a]);Object(i.useEffect)((function(){Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:case"end":return e.stop()}}),e)})))()}),[L]),Object(i.useEffect)((function(){!0===H&&n.current.focus()}),[H]);var T=function(){var t=Object(u.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(D(!1),0!==O.length){t.next=3;break}return t.abrupt("return",j(m.title));case 3:return n={title:O,description:0===E.replace(/\s/g,"").length?"":E},e.setIsLoading(!0),t.prev=5,t.next=8,k("/cards/update/"+m.id,n);case 8:return t.next=10,L();case 10:return t.next=12,e.refetchCards();case 12:return t.prev=12,e.setIsLoading(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[5,,12,15]])})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.fire({title:"",text:"Are you sure you want to delete this card?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"});case 2:if(!t.sent.value){t.next=14;break}return e.setIsLoading(!0),t.prev=5,t.next=8,k("/cards/delete/"+m.id);case 8:return t.next=10,e.refetchCards();case 10:s.replace(r.Home);case 11:return t.prev=11,e.setIsLoading(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[5,,11,14]])})));return function(){return t.apply(this,arguments)}}();return o.a.createElement(_.a,{show:!0,onHide:function(){return s.push(r.Home)},animation:!1},o.a.createElement(_.a.Header,{className:"d-flex align-items-center modal-background",closeButton:!0},o.a.createElement("img",{src:P.a,alt:"title icon"}),o.a.createElement(v.a,{type:"text",inputRef:t,className:"column-title card-details-title",value:O,placeholder:"Enter list title...",onChange:function(e){return j(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&t.current.blur()},onBlur:function(){return T()}})),o.a.createElement(_.a.Body,{className:"modal-background"},o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement("img",{src:B.a,alt:"description icon"}),o.a.createElement("span",{className:"card-description"},"Description")),0===E.length&&!1===H&&o.a.createElement("div",{className:"no-description-placeholder",onClick:function(){return D(!0)}},o.a.createElement("span",null,"Add a more detailed description...")),E.length>0&&!1===H&&o.a.createElement("div",{className:"description-placeholder",onClick:function(){return D(!0)}},E),!0===H&&o.a.createElement(v.a,{type:"text",inputRef:n,className:"column-title card-details-textarea",value:E,onChange:function(e){return w(e.target.value)},onBlur:function(){return T()},minRows:5,placeholder:"Add a more detailed description..."}),o.a.createElement("div",{className:"d-flex align-items-center mt-3"},o.a.createElement("img",{src:A.a,alt:"actions icon"}),o.a.createElement("span",{className:"card-description"},"Actions")),o.a.createElement("button",{className:"btn btn-danger delete-card-btn",disabled:!0===e.isLoading,onClick:function(){return R()}},"Delete")))}function M(e){var t=Object(i.useState)(""),n=Object(f.a)(t,2),r=n[0],a=n[1],s=Object(i.useState)(""),l=Object(f.a)(s,2),d=l[0],m=l[1],g=Object(i.useState)(""),p=Object(f.a)(g,2),b=p[0],h=p[1],v=Object(i.useState)(!1),O=Object(f.a)(v,2),j=O[0],x=O[1],I=Object(i.useState)(!0),E=Object(f.a)(I,2),w=E[0],y=E[1],N=0===r.length||0===d.length,S=!0===N||0===b.length,H=(!0===w?!0===N:!0===S)||!0===j;Object(i.useEffect)((function(){return function(){return x(!1)}}),[j]);var D=function(){var t=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),t.prev=1,t.next=4,k("/account/login",{username:r,password:d});case 4:e.logIn();case 5:return t.prev=5,x(!1),t.finish(5);case 8:case"end":return t.stop()}}),t,null,[[1,,5,8]])})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(d.length<6)){t.next=2;break}return t.abrupt("return",C.fire({title:"Error!",text:"Please make sure your password is at least 6 characters",icon:"error"}));case 2:if(d===b){t.next=4;break}return t.abrupt("return",C.fire({title:"Error!",text:"Please make sure your passwords match",icon:"error"}));case 4:return x(!0),t.prev=5,t.next=8,k("/account/register",{username:r,password:d});case 8:e.logIn();case 9:return t.prev=9,x(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[5,,9,12]])})));return function(){return t.apply(this,arguments)}}(),L=function(e){"Enter"===e&&!1===H&&(!0===w?D():_())};return o.a.createElement("div",{className:"d-flex justify-content-center align-items-center vw-100 login-signup-container"},o.a.createElement("form",{className:"login-signup-form"},o.a.createElement("h1",{className:"logged-out-logo text-center mb-5"},"Kanban Lite"),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",className:"form-control",value:r,onChange:function(e){return a(e.target.value)},id:"username",placeholder:"Enter username",disabled:!0===j})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"password",className:"form-control",value:d,onChange:function(e){return m(e.target.value)},id:"password",placeholder:"Password",disabled:!0===j,onKeyDown:function(e){!0===w&&L(e.key)}})),!1===w&&o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"password",className:"form-control",value:b,onChange:function(e){return h(e.target.value)},id:"confirmPassword",placeholder:"Confirm password",disabled:!0===j,onKeyDown:function(e){return L(e.key)}})),o.a.createElement("button",{type:"button",className:"btn login-btn w-100",disabled:!0===H,onClick:function(){return!0===w?D():_()}},!0===w?"Log In":"Sign Up"),o.a.createElement("div",{className:"text-center mt-5"},!0===w?o.a.createElement("span",{className:"login-question-text"},"Don't have an account? ",o.a.createElement("span",{className:"login-link",onClick:function(){return y(!1)}},"Sign up here")):o.a.createElement("span",{className:"login-question-text"},"Already have an account? ",o.a.createElement("span",{className:"login-link",onClick:function(){return y(!0)}},"Log in here")))))}var U=n(101),W=function(){var e=Object(U.a)((function(e){return{initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),item:e.getItem(),itemType:e.getItemType()}})),t=e.initialOffset,n=e.currentOffset,r=e.item,a=e.itemType;return r?o.a.createElement("div",{className:"custom-drag-layer-container"},o.a.createElement("div",{style:function(e,t){if(!e||!t)return{display:"none"};var n=t.x,r=t.y;n-=e.x,r-=e.y,n+=e.x,r+=e.y;var a="translate(".concat(n,"px, ").concat(r,"px)");return{transform:a,WebkitTransform:a}}(t,n)},function(){switch(a){case"column":return o.a.createElement("div",{className:"column custom-drag-layer"},o.a.createElement("div",{className:"d-flex justify-content-between align-items-center mb-2"},o.a.createElement(v.a,{type:"text",className:"column-title",defaultValue:r.column.title,placeholder:"Enter list title..."}),o.a.createElement("img",{src:H.a,alt:"delete icon"})),r.cards.map((function(e){return o.a.createElement("div",{key:e.id,className:"card trello-card"},o.a.createElement("span",null,e.title))})),o.a.createElement("button",{type:"button",className:"btn add-card-button mt-2"},"+ Add ",o.a.createElement("span",null,0===r.cards.length?"a":"another")," card"));case"card":return o.a.createElement("div",{className:"card trello-card custom-drag-layer custom-drag-card"},o.a.createElement("span",null,r.card.title));default:return null}}())):null};var Y=function(e){var t=Object(i.useState)([]),n=Object(f.a)(t,2),a=n[0],s=n[1],l=Object(i.useState)([]),v=Object(f.a)(l,2),O=v[0],j=v[1],x=Object(i.useState)(0),I=Object(f.a)(x,2),C=I[0],E=I[1],w=Object(i.useState)(0),y=Object(f.a)(w,2),S=y[0],H=y[1],_=Object(i.useState)(new Map),L=Object(f.a)(_,2),P=L[0],T=L[1],B=Object(i.useState)(0),R=Object(f.a)(B,2),A=R[0],U=R[1],Y=Object(i.useState)(0),q=Object(f.a)(Y,2),J=q[0],V=q[1],F=Object(i.useState)(new Map),z=Object(f.a)(F,2),G=z[0],Q=z[1],X=Object(i.useState)(!1),Z=Object(f.a)(X,2),$=Z[0],ee=Z[1],te=Object(i.useState)(e.isLoggedIn),ne=Object(f.a)(te,2),re=ne[0],ae=ne[1],ce=Object(i.useState)(!1),ue=Object(f.a)(ce,2),ie=ue[0],oe=ue[1],se=Object(i.useState)(0),le=Object(f.a)(se,2),de=le[0],me=le[1],fe=function(){var e=Object(u.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("/columns");case 2:return t=e.sent,j(t),n=t.map((function(e){return e.id})).join(","),e.next=7,N("/cards?columnIds="+n);case 7:r=e.sent,s(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("/columns");case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(u.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.map((function(e){return e.id})).join(","),e.next=3,N("/cards?columnIds="+t);case 3:n=e.sent,s(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==re){e.next=8;break}return oe(!0),e.prev=2,e.next=5,fe();case 5:return e.prev=5,oe(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))()}),[re]);var be=O.sort((function(e,t){return e.boardIndex>t.boardIndex?1:-1})),he=Object(i.useMemo)((function(){return P.get(A)}),[P,A]),ve=Object(i.useMemo)((function(){return G.get(J)}),[G,J]),Oe=function(){var e=Object(u.a)(c.a.mark((function e(t,n){var r,u,i,o,l,d,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.slice(),(u=r.filter((function(e){return e.column_id===t.column_id})).sort((function(e,t){return e.columnIndex>t.columnIndex?1:-1}))).splice(t.columnIndex,0,t),i=u.filter((function(e){return!(e.id===n.id&&e.columnIndex===n.columnIndex&&e.column_id===n.column_id&&!e.isNew)})).map((function(e,t){return Object(m.a)({},e,{columnIndex:t})})),o=r.filter((function(e){return!(e.id===n.id&&e.columnIndex===n.columnIndex&&e.column_id===n.column_id&&!e.isNew)})),l=[],t.column_id!==n.column_id&&(l=o.filter((function(e){return e.column_id===n.column_id&&e.id!==n.id})).sort((function(e,t){return e.columnIndex>t.columnIndex?1:-1})).map((function(e,t){return Object(m.a)({},e,{columnIndex:t})}))),d=o.filter((function(e){return e.column_id!==t.column_id})).filter((function(e){return e.column_id!==n.column_id})),s(d.concat(i).concat(l)),f={cardData:i.concat(l)},oe(!0),e.prev=11,e.next=14,k("/cards/move",f);case 14:return e.next=16,pe();case 16:return e.prev=16,oe(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[11,,16,19]])})));return function(t,n){return e.apply(this,arguments)}}(),je=function(){var e=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={title:"",boardIndex:O.length},oe(!0),e.prev=2,e.next=5,k("/columns/create",t);case 5:return e.next=7,ge();case 7:return e.prev=7,oe(!1),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[2,,7,10]])})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(u.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:t,title:n},oe(!0),e.prev=2,e.next=5,k("/columns/update",r);case 5:return e.next=7,ge();case 7:return e.prev=7,oe(!1),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[2,,7,10]])})));return function(t,n){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(u.a)(c.a.mark((function e(t,n,r){var a,u,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for((a=O.slice().sort((function(e,t){return e.boardIndex>t.boardIndex?1:-1}))).splice(n.boardIndex,0,n),u=a.filter((function(e){return!(e.id===t&&e.boardIndex===r&&!e.isNew)})).map((function(e,t){return Object(m.a)({},e,{boardIndex:t})})),j(u),i={},o=0;o<u.length;o++)i=Object(m.a)({},i,Object(d.a)({},u[o].id,o));return oe(!0),e.prev=7,e.next=10,k("/columns/move",i);case 10:return e.next=12,ge();case 12:return e.prev=12,oe(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[7,,12,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(!0),e.prev=1,e.next=4,N("/account/logout");case 4:ae(!1);case 5:return e.prev=5,oe(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[1,,5,8]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(b.a,null,!0===re?o.a.createElement("div",null,o.a.createElement("div",{className:"d-flex mt-3"},o.a.createElement("h1",{className:"logged-in-logo"},"Kanban Lite"),o.a.createElement("button",{className:"btn log-out-btn add-logout-btn",onClick:function(){return Ce()},disabled:!0===ie},"Log Out")),o.a.createElement(g.a,{backend:p.a},o.a.createElement(W,null),o.a.createElement("div",{className:"trello-container"},be.map((function(e){return o.a.createElement("div",{key:e.id},o.a.createElement(D,{column:e,highlightedColumnId:C,highlightedCardId:S,dragColumnId:A,dragColumnHeight:he,dragCardId:J,dragCardHeight:ve,isDragInProgress:$,cards:a.filter((function(t){return t.column_id===e.id})),hoverCardId:de,columnCount:O.length,setHoverCardId:function(e){return me(e)},setIsDragInProgress:function(e){return ee(e)},setCardHeight:function(e,t){return function(e,t){var n=new Map(G);n.set(e,t),Q(n)}(e,t)},setDragCardId:function(e){return V(e)},setDragColumnId:function(e){return U(e)},setColumnHeight:function(e,t){return function(e,t){var n=new Map(P);n.set(e,t),T(n)}(e,t)},changeColumnTitle:function(e,t){return xe(e,t)},setHighlightedColumnId:function(e){return E(e)},setHighlightedCardId:function(e){return H(e)},moveCard:function(e,t){return Oe(e,t)},moveColumn:function(e,t,n){return Ie(e,t,n)},getColumnsAndCards:function(){return fe()},setIsLoading:function(e){return oe(e)},isLoading:ie}))})),o.a.createElement("div",null,o.a.createElement("button",{type:"button",onClick:function(){return je()},className:"btn add-column-button add-logout-btn",disabled:!0===ie},"+ Add ",o.a.createElement("span",null,0===O.length?"a":"another")," list"))))):o.a.createElement(M,{logIn:function(){return ae(!0)}}),o.a.createElement(h.a,{path:r.Card},o.a.createElement(K,{isLoading:ie,setIsLoading:function(e){return oe(e)},refetchCards:function(){return pe()}})))};Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("/account/isLoggedIn");case 2:t=e.sent,l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Y,{isLoggedIn:t})),document.getElementById("root"));case 4:case"end":return e.stop()}}),e)})))()}},[[69,1,2]]]);
//# sourceMappingURL=main.08b42ef9.chunk.js.map